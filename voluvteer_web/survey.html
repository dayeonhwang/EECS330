<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>
            Voluvteer: Find a volunteer/volunteering opportunity for yourself!
        </title>

        <!-- <link rel="stylesheet" type="text/css" href="css/jquery.fullPage.css" /> -->
        
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="css/examples.css" />
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />


        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/jquery.cookie.js"></script>
    </head>
    <body>
        <ol class="breadcrumb">
           <li>
                <span class="fa-stack">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <strong class="fa-stack-1x">V</strong>
                </span>
            </li>
           <li><a href="index.html">Home</a></li>
           <li><a href="volunteer-start.html">Volunteer Sign Up</a></li>
           <li><a href="signup-email.html">Email Sign Up</a></li>
           <li class="active">Survey</li>
         </ol>
        <div class="container-fluid" id="fullpage">
            <div class="section active" id="section0">
                <h1>Hi Volunteer!</h1>
                <h2>We're going to ask a few questions to find volunteer opportunities that best match your interests!</h2>
                <a href="#section1" class="btn btn-primary btn-lg" role="button">Next <i class="fa fa-arrow-right"></i></a>
            </div>
            <div class="section-divider"></div>
            <div class="section" id="section1">
                <!-- Location Survey -->
                
                <!-- TODO: Align this in center -->
                    <h1>Location</h1>
                    <div class="row row-location">
                        <div class="col-xs-offset-4 col-xs-4 input-group input-group-lg">
                        <input id="autocomplete" placeholder="Your Address"
                               onFocus="geolocate()" class="form-control" type="text"></input>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-xs-offset-4 col-xs-4" id="col-distance">
                          <div class="dropdown" id="dropdown-distance">
                            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu-distance" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                              1 Mile
                              <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenu-distance">
                              <li><a>1 Mile</a></li>
                              <li><a>5 Miles</a></li>
                              <li><a>10 Miles</a></li>
                              <li><a>20 Miles</a></li>
                            </ul>
                          </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-xs-offset-4 col-xs-4" id="map"></div>
                        <div class="clearfix"></div>
                        <a href="#section0" class="btn btn-primary btn-lg" role="button"><i class="fa fa-arrow-left"></i> Prev</a>
                        <a href="#section2" class="btn btn-primary btn-lg" role="button">Next <i class="fa fa-arrow-right"></i></a>
                    </div>
                </div>
            </div>
            <div class="section-divider"></div>
            <div class="section" id="section2">
              <h1>Time</h1>
              <div class="row">
                <span class="col-xs-offset-3 col-xs-3 dropdown-label">Total Time (hrs/wk)</span>
                <div class="col-xs-3">
                  <div class="dropdown" id="dropdown-totalTime">
                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu-totalTime" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                      1-5 Hours
                      <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu-totalTime">
                      <li><a>1-5 Hours</a></li>
                      <li><a>5-10 Hours</a></li>
                      <li><a>10-20 Hours</a></li>
                      <li><a>20 Hours or more</a></li>
                    </ul>
                  </div>
                </div>
                <div class="clearfix"></div>
                <span class="col-xs-offset-3 col-xs-3 dropdown-label">Frequency</span>
                <div class="col-xs-3">
                  <div class="dropdown" id="dropdown-frequency">
                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu-frequency" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                      1 time a week
                      <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenup-frequency">
                      <li><a>1 time a week</a></li>
                      <li><a>2 times a week</a></li>
                      <li><a>3 times a week</a></li>
                      <li><a>More than 3 times a week</a></li>
                    </ul>
                  </div>
                </div>
                <div class="clearfix"></div>
                <span class="col-xs-offset-3 col-xs-3 dropdown-label">Flexibility</span>
                <div class="col-xs-3">
                  <div class="radio">
                    <label>
                      <input type="radio" name="optradio">Low (Fixed Time)
                    </label>
                  </div>
                  <div class="radio">
                    <label>
                      <input type="radio" name="optradio">Medium
                    </label>
                  </div>
                  <div class="radio">
                    <label>
                      <input type="radio" name="optradio">High (Varies Session to Session)
                    </label>
                  </div>
                </div>
                <div class="clearfix"></div>
                <a href="#section1" class="btn btn-primary btn-lg" role="button"><i class="fa fa-arrow-left"></i> Prev</a>
                <a href="#section3" class="btn btn-primary btn-lg" role="button">Next <i class="fa fa-arrow-right"></i></a>
              </div>
            </div>
            <div class="section-divider"></div>
            <div class="section" id="section3">
              <h1>Interests</h1>
              <h2>Please click your interests below</h2>
              <div class="row col-xs-offset-1 col-xs-10">
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-paw fa-5x"></i><br />
                  <span>Animals</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-paint-brush fa-5x"></i><br />
                  <span>Art</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-wheelchair fa-5x"></i><br />
                  <span>Handicapped</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                 <i class="fa fa-recycle fa-5x"></i><br />
                  <span>Environment</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-book fa-5x"></i><br />
                  <span>Faith</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-heartbeat fa-5x"></i><br />
                  <span>Healthcare</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-users fa-5x"></i><br />
                  <span>Human Rights</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-cutlery fa-5x"></i><br />
                  <span>Hunger</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-balance-scale fa-5x"></i><br />
                  <span>Justice</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-paper-plane-o fa-5x"></i><br />
                  <span>Kids</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-transgender-alt fa-5x"></i><br />
                  <span>LGBT</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-play fa-5x"></i><br />
                  <span>Media</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-tree fa-5x"></i><br />
                  <span>Outdoor</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-home fa-5x"></i><br />
                  <span>Refugee</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-heart fa-5x"></i><br />
                  <span>Elderly</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-soccer-ball-o fa-5x"></i><br />
                  <span>Sports</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-desktop fa-5x"></i><br />
                  <span>Technology</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
                <div class="col-xs-2 interest-icon">
                  <i class="fa fa-pencil fa-5x"></i><br />
                  <span>Tutoring</span><br />
                   <i class="fa fa-check fa-2x"></i>
                </div>
              </div>
              <div class="clearfix"></div>
              <a href="#section2" class="btn btn-primary btn-lg" role="button"><i class="fa fa-arrow-left"></i> Prev</a>
              <a href="#section4" class="btn btn-primary btn-lg" role="button">Next <i class="fa fa-arrow-right"></i></a>
            </div>
            <br />
            <br /> <!-- Seriously..? -->
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <div class="section-divider"></div>
            <div class="section" id="section4">
              <h1>Thank you for Filling out the Survey!</h1>
              <h2>Please confirm your answers above, so we can determine what activities are best for you!</h2>
              <a href="volunteer-choose-activities.html" class="btn btn-success btn-lg submit-survey" role="button">Submit</a>
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
              <br />
            </div>
        </div>
    <script>
      $('.submit-survey').click(function() {
        var interests = $('.checked'),
            c = {};
        for (var i = 0; i < interests.length; i++) {
          c[i] = interests[i].children[2].innerHTML;
        }
        console.log(c);
        $.cookie('interests', JSON.stringify(c));
      });

      //==============Location=========
      var placeSearch, autocomplete, map, marker;
      var componentForm = {
        street_number: 'short_name',
        route: 'long_name',
        locality: 'long_name',
        administrative_area_level_1: 'short_name',
        country: 'long_name',
        postal_code: 'short_name'
      };

      function initAutocomplete() {
        // Create the autocomplete object, restricting the search to geographical
        // location types.
        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 42.056435, lng: -87.675428},
            zoom: 13
        });
        marker = new google.maps.Marker({
            map: map,
            anchorPoint: new google.maps.Point(0, -29)
          });
        autocomplete = new google.maps.places.Autocomplete(
            /** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),
            {types: ['geocode']});
        autocomplete.bindTo('bounds', map);

        // When the user selects an address from the dropdown, populate the address
        // fields in the form.
        autocomplete.addListener('place_changed', fillInAddress);
      }

      function fillInAddress() {
        // Get the place details from the autocomplete object.
        var place = autocomplete.getPlace();

        // for (var component in componentForm) {
        //   document.getElementById(component).value = '';
        //   document.getElementById(component).disabled = false;
        // }

        // Get each component of the address from the place details
        // and fill the corresponding field on the form.
        // for (var i = 0; i < place.address_components.length; i++) {
        //   var addressType = place.address_components[i].types[0];
        //   if (componentForm[addressType]) {
        //     var val = place.address_components[i][componentForm[addressType]];
        //     document.getElementById(addressType).value = val;
        //   }
        // }
        //Map
        console.log(place);
        if (place.geometry.viewport) {
              map.fitBounds(place.geometry.viewport);
            } else {
              map.setCenter(place.geometry.location);
              map.setZoom(17);  // Why 17? Because it looks good.
            }
            marker.setIcon(/** @type {google.maps.Icon} */({
              url: place.icon,
              size: new google.maps.Size(71, 71),
              origin: new google.maps.Point(0, 0),
              anchor: new google.maps.Point(17, 34),
              scaledSize: new google.maps.Size(35, 35)
            }));
            marker.setPosition(place.geometry.location);
            marker.setVisible(true);
      }

      // Bias the autocomplete object to the user's geographical location,
      // as supplied by the browser's 'navigator.geolocation' object.
      function geolocate() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var geolocation = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            var circle = new google.maps.Circle({
              center: geolocation,
              radius: position.coords.accuracy
            });
            autocomplete.setBounds(circle.getBounds());
          });
        }
      }
      $("#dropdown-distance").on("click", "li a", function() {
          var selection = $(this).text();
          console.log(selection);
          $("#dropdownMenu-distance").html(selection);
      });
      //=================Time============
      $("#dropdown-totalTime").on("click", "li a", function() {
          var selection = $(this).text();
          console.log(selection);
          $("#dropdownMenu-totalTime").html(selection);
      });
      $("#dropdown-frequency").on("click", "li a", function() {
          var selection = $(this).text();
          console.log(selection);
          $("#dropdownMenu-frequency").html(selection);
      }); 
      //Interests
       $(".interest-icon").on("click", function() {
        var check = $(this).find('.fa-check'),
            display = check.css( "display");
        if (display == 'block'){
          check.css( "display",'none');
          $(this).css("color","rgba(0,0,0,0.5)")
        } else {
          check.css( "display",'block');
          $(this).css("color","#3498db");
          $(this).addClass("checked");
        }
        
       });
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmPygdIXZcpPrA9Yetgy8P7GLoOoIfc4U&signed_in=true&libraries=places&callback=initAutocomplete"
        async defer></script>
  </body>
</html>